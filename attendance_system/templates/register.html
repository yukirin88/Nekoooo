{% extends "bootstrap/base.html" %}

{% block title %}新規登録{% endblock %}

{% block content %}
<div class="content-container">
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  {% for category, message in messages %}
  <div class="alert alert-{{ category }}">{{ message }}</div>
  {% endfor %} 
  {% endif %} 
  {% endwith %}
  
  <h1>新規登録</h1>
  <form action="{{ url_for('register') }}" method="post" autocomplete="off">
    <div class="form-group">
      <label for="username">ユーザー名</label>
      <input type="text" class="form-control" name="username" placeholder="ユーザー名" id="username" required>
    </div>
    <div class="form-group">
      <label for="password">パスワード</label>
      <input type="password" class="form-control" name="password" placeholder="パスワード" id="password" required>
    </div>
    
    <!-- ②プライベートアカウント設定のスライドスイッチ -->
    <div class="privacy-setting">
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" role="switch" id="is_private" name="is_private">
        <label class="form-check-label" for="is_private">
          プライベートモード
        </label>
        <small class="form-text text-muted d-block">
          オンにするとあなたの記録は他のユーザーには表示されません
        </small>
      </div>
    </div>
    
    <button type="submit" class="btn btn-primary">登録</button>
  </form>
  <p class="mt-3">既にアカウントをお持ちの場合は<a href="{{ url_for('login') }}">こちらからログイン</a>してください。</p>
</div>
{% endblock %}

{% block styles %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: "Futura", Helvetica, sans-serif;
  }
  
  .content-container {
    padding-top: 20px;
    padding-bottom: 20px;
    padding-left: 15px;
    padding-right: 15px;
  }
  
  /* プライバシー設定スイッチ用のスタイル */
  .form-check-input {
    cursor: pointer;
    width: 3em;
    height: 1.5em;
  }
  
  .privacy-setting {
    margin: 20px 0;
    padding: 10px;
    background-color: #f8f9fa;
    border-radius: 5px;
  }
</style>
{% endblock %}